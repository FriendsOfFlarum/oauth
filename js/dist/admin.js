(()=>{var t={n:n=>{var o=n&&n.__esModule?()=>n.default:()=>n;return t.d(o,{a:o}),o},d:(n,o)=>{for(var e in o)t.o(o,e)&&!t.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:o[e]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};(()=>{"use strict";t.r(n),t.d(n,{AuthSettingsPage:()=>h,ConfigureWithOAuthPage:()=>b});const o=flarum.core.compat["admin/app"];var e=t.n(o);function r(t,n){return r=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},r(t,n)}function a(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n)}const i=flarum.core.compat["common/components/Button"];var s=t.n(i);const u=flarum.core.compat["admin/components/ExtensionPage"];var l=t.n(u);const c=flarum.core.compat["common/helpers/icon"];var f=t.n(c);const d=flarum.core.compat["common/utils/ItemList"];var p=t.n(d),h=function(t){function n(){return t.apply(this,arguments)||this}a(n,t);var o=n.prototype;return o.oninit=function(n){t.prototype.oninit.call(this,n),this.showing=[]},o.content=function(){return[m("div",{className:"container"},m("div",{className:"AuthSettingsPage"},m("div",{className:"Form"},this.buildSettingComponent({type:"boolean",setting:"fof-oauth.only_icons",label:e().translator.trans("fof-oauth.admin.settings.only_icons_label")}),m("hr",null),this.providerSettingsItems().toArray(),this.submitButton())))]},o.providerSettingsItems=function(){var t=this,n=new(p());return e().data["fof-oauth"].map((function(o){var r=o.name,a=!!Number(t.setting("fof-oauth."+r)()),i=!!t.showing[r],u=e().forum.attribute("baseUrl")+"/auth/"+r;n.add("fof-oauth."+r,m("div",{className:"Provider "+(a?"enabled":"disabled")+" "+(i&&"showing")},m("div",{className:"Provider--info Provider--"+r},t.buildSettingComponent({type:"boolean",setting:"fof-oauth."+r,label:m("div",null,f()(o.icon),m("span",null,e().translator.trans("fof-oauth.lib.providers."+r)))}),m(s(),{className:"Button Button--rounded "+(t.showing[r]&&"active"),onclick:function(){return t.showing[r]=!i},"aria-label":e().translator.trans("fof-oauth.admin.settings_accessibility_label",{name:r})},f()("fas fa-cog"))),m("div",{className:"Provider--settings"},m("div",null,m("p",null,e().translator.trans("fof-oauth.admin.settings.providers."+r+".description",{link:m("a",{href:o.link,target:"_blank"},o.link)})),m("p",null,e().translator.trans("fof-oauth.admin.settings.providers.callback_url_text",{url:m("a",{href:u,target:"_blank"},u)})),Object.keys(o.fields).map((function(n){var a;return t.buildSettingComponent({type:"string",setting:"fof-oauth."+r+"."+n,label:e().translator.trans("fof-oauth.admin.settings.providers."+r+"."+n+"_label"),required:(a={},a[i&&o.fields[n].includes("required")?"required":null]=!0,a)})})),t.customProviderSettings(r).toArray()))))})),n},o.customProviderSettings=function(t){return new(p())},n}(l());const g=flarum.core.compat["common/components/LinkButton"];var v=t.n(g),b=function(t){function n(){return t.apply(this,arguments)||this}a(n,t);var o=n.prototype;return o.oninit=function(n){t.prototype.oninit.call(this,n)},o.content=function(){return[m("div",{className:"container"},m("div",{className:"OAuthSettingsPage"},m("br",null),m(v(),{className:"Button",href:e().route("extension",{id:"fof-oauth"})},e().translator.trans("fof-oauth.admin.configure_button_label"))))]},n}(l());e().initializers.add("fof/oauth",(function(){e().extensionData.for("fof-oauth").registerPage(h)}))})(),module.exports=n})();
//# sourceMappingURL=admin.js.map