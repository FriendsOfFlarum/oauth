{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@fof/oauth/webpack/bootstrap","webpack://@fof/oauth/webpack/runtime/compat get default export","webpack://@fof/oauth/webpack/runtime/define property getters","webpack://@fof/oauth/webpack/runtime/hasOwnProperty shorthand","webpack://@fof/oauth/webpack/runtime/make namespace object","webpack://@fof/oauth/external root \"flarum.core.compat['admin/app']\"","webpack://@fof/oauth/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@fof/oauth/external root \"flarum.core.compat['common/components/Button']\"","webpack://@fof/oauth/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@fof/oauth/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@fof/oauth/./src/admin/components/AuthSettingsPage.js","webpack://@fof/oauth/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/oauth/./src/admin/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","import app from 'flarum/admin/app';\nimport Button from 'flarum/common/components/Button';\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport icon from 'flarum/common/helpers/icon';\n\nexport default class AuthSettingsPage extends ExtensionPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.showing = [];\n  }\n\n  content() {\n    return [\n      <div className=\"container\">\n        <div className=\"AuthSettingsPage\">\n          <div className=\"Form\">\n            {this.buildSettingComponent({\n              type: 'boolean',\n              setting: 'fof-oauth.only_icons',\n              label: app.translator.trans(`fof-oauth.admin.settings.only_icons_label`),\n            })}\n\n            <hr />\n\n            {app.data['fof-oauth'].map((provider) => {\n              const { name } = provider;\n              const enabled = !!Number(this.setting(`fof-oauth.${name}`)());\n              const showSettings = !!this.showing[name];\n              const callbackUrl = `${app.forum.attribute('baseUrl')}/auth/${name}`;\n\n              return (\n                <div className={`Provider ${enabled ? 'enabled' : 'disabled'} ${showSettings && 'showing'}`}>\n                  <div className=\"Provider--info\">\n                    {this.buildSettingComponent({\n                      type: 'boolean',\n                      setting: `fof-oauth.${name}`,\n                      label: (\n                        <div>\n                          {icon(provider.icon)}\n                          <span>{app.translator.trans(`fof-oauth.lib.providers.${name}`)}</span>\n                        </div>\n                      ),\n                    })}\n\n                    {\n                      <Button\n                        className={`Button Button--rounded ${this.showing[name] && 'active'}`}\n                        onclick={() => (this.showing[name] = !showSettings)}\n                      >\n                        {icon(`fas fa-cog`)}\n                      </Button>\n                    }\n                  </div>\n\n                  <div className=\"Provider--settings\">\n                    <div>\n                      <p>\n                        {app.translator.trans(`fof-oauth.admin.settings.providers.${name}.description`, {\n                          link: (\n                            <a href={provider.link} target=\"_blank\">\n                              {provider.link}\n                            </a>\n                          ),\n                        })}\n                      </p>\n                      <p>\n                        {app.translator.trans(`fof-oauth.admin.settings.providers.callback_url_text`, {\n                          url: (\n                            <a href={callbackUrl} target=\"_blank\">\n                              {callbackUrl}\n                            </a>\n                          ),\n                        })}\n                      </p>\n\n                      {Object.keys(provider.fields).map((field) =>\n                        this.buildSettingComponent({\n                          type: 'string',\n                          setting: `fof-oauth.${name}.${field}`,\n                          label: app.translator.trans(`fof-oauth.admin.settings.providers.${name}.${field}_label`),\n                          required: {\n                            [showSettings && provider.fields[field].includes('required') ? 'required' : null]: true,\n                          },\n                        })\n                      )}\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n            {this.submitButton()}\n          </div>\n        </div>\n      </div>,\n    ];\n  }\n}\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","import app from 'flarum/admin/app';\n\nimport AuthSettingsPage from './components/AuthSettingsPage';\n\napp.initializers.add('fof/oauth', () => {\n  app.extensionData.for('fof-oauth').registerPage(AuthSettingsPage);\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","p","setPrototypeOf","__proto__","AuthSettingsPage","subClass","superClass","create","constructor","oninit","vnode","this","showing","content","className","buildSettingComponent","type","setting","label","app","provider","name","enabled","Number","showSettings","callbackUrl","icon","onclick","link","href","target","url","keys","fields","map","field","required","includes","submitButton","ExtensionPage","registerPage"],"sourceRoot":""}